(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{216:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(14),c=n(64),r=n(206),o=n(1),i=["message"];function s(e){var t=e.message,n=Object(c.a)(e,i);return Object(o.jsx)(r.a,{sx:Object(a.a)({padding:"5px"},n),children:t})}},278:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return be}));var a=n(15),c=n(0),r=n(20),o=n(191),i=n(210),s=n(14),l=n(11),u=n(252),d=n(206),b=n(207),j=n(244),p=n.n(j),m=n(245),h=n.n(m),f=n(27),x=n(16),O=n(1),v=Object(l.a)(u.a)((function(e){var t=e.theme;return Object(s.a)(Object(s.a)({},t.typography.body2),{},{direction:"row",justifyContent:"center",alignItems:"center",padding:t.spacing(.5),color:t.palette.text.secondary,backgroundColor:t.palette.primary.main,borderRadius:"5px",marginBottom:t.spacing(1),boxShadow:t.shadows[1],transitionProperty:"transform",transitionDuration:"300ms",transitionTimingFunction:"ease-out","&:hover, &:focus":{boxShadow:t.shadows[3],transform:"scale(1.02)"}})})),g=Object(l.a)("div")({display:"flex",flexWrap:"wrap",flexGrow:1,flexDirection:"row",alignItems:"center"});function C(e){var t=e.contacts,n=e.openAddContactModal,a=e.setCurrentContactId,c=Object(r.c)();return Object(O.jsx)(u.a,{container:!0,component:"ul",className:"list",sx:{maxWidth:"600px",ml:"auto",mr:"auto"},children:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,r=e.name,o=e.number;return Object(O.jsx)(v,{container:!0,item:!0,component:"li",children:Object(O.jsxs)(g,{sx:{justifyContent:"space-between"},children:[Object(O.jsxs)(g,{sx:{justifyContent:"space-evenly"},children:[Object(O.jsx)(d.a,{component:"span",sx:{mr:"1%"},children:r}),Object(O.jsx)(d.a,{component:"a",sx:{mr:"1%","&:hover, &:focus":{color:f.a.palette.background.default}},href:"tel:".concat(o),className:"link",children:o})]}),Object(O.jsxs)(g,{sx:{justifyContent:"space-evenly"},children:[Object(O.jsx)(b.a,{"aria-label":"edit contact",onClick:function(){return function(e){n(!0),a(e)}(t)},sx:{mr:"1%","&:hover, &:focus":{color:f.a.palette.background.default}},children:Object(O.jsx)(p.a,{})}),Object(O.jsx)(b.a,{"aria-label":"delete contact",onClick:function(){return function(e){return c(Object(x.b)(e))}(t)},sx:{mr:"1%","&:hover, &:focus":{color:f.a.palette.background.default}},children:Object(O.jsx)(h.a,{})})]})]})},t)}))})}var y=n(208),w=n(211),I=n(285),k=n(248),S=n.n(k),A=n(4),M=n(190),V=n(195),T=n(246),F=n.n(T),N=n(247),B=n.n(N),W=n(223),z=n(68),E=function(e){return e.contacts.items},L=function(e){return e.contacts.filter},D=Object(z.a)([E,L],(function(e,t){var n=t.toLowerCase().trim();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),q=n(105),J=Object(l.a)("div")((function(e){var t=e.theme;return Object(A.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(M.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(M.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),R=Object(l.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),Z=Object(l.a)(W.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(A.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"25ch"}})}}));function G(e){var t=e.showAddContactBtn,n=Object(V.a)(f.a.breakpoints.down("md")),a=Object(r.d)(L),c=""!==a,o=Object(r.c)();return Object(O.jsxs)(J,{children:[Object(O.jsx)(R,{children:Object(O.jsx)(F.a,{})}),Object(O.jsx)(Z,{placeholder:"Search contact",inputProps:{"aria-label":"Search contact by name"},value:a,onChange:function(e){o(Object(q.a)(e.target.value.trim()))},onFocus:function(){n&&t(!1)},onBlur:function(e){n&&""===e.target.value.trim()&&(t(!0),""===e.target.value.trim()&&(e.target.value=""))}}),c&&Object(O.jsx)(b.a,{"aria-label":"clear",onClick:function(){o(Object(q.a)("")),t(!0)},children:Object(O.jsx)(B.a,{})})]})}var P=Object(l.a)(I.a)({position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto",opacity:"0.8"});function Y(e){var t=e.openAddContactModal,n=Object(c.useState)(!0),r=Object(a.a)(n,2),o=r[0],i=r[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(y.a,{component:"div",position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:Object(O.jsxs)(w.a,{sx:{justifyContent:"flex-end"},children:[o&&Object(O.jsx)(P,{color:"secondary","aria-label":"add contact",onClick:function(){t(!0)},children:Object(O.jsx)(S.a,{})}),Object(O.jsx)(G,{showAddContactBtn:i})]})})})}var H=n(288),$=n(289),K=n(290),Q=n(251),U=n.n(Q),X=n(254),_=n(287),ee=n(275),te=n(250),ne=n.n(te),ae=n(277),ce=n(194),re=Object(ce.a)(ae.a)((function(e){var t=e.theme;return{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:t.palette.background.light},"&:hover fieldset":{borderColor:t.palette.primary.main},"&.Mui-focused fieldset":{borderColor:t.palette.primary.main}}}}));function oe(e){var t=e.onSubmit,n=e.currentContactId,a=e.isContactSaved,c=e.setIsContactSaved,i=Object(X.b)(),s=i.handleSubmit,l=i.control,u=i.setValue,d=function(e){return e.find((function(e){return e.id===n}))}(Object(r.d)(D)),b=function(e){u(e.target.name,e.target.value),c(!1)},j=function(){u("name",""),u("number","")};return Object(O.jsxs)(o.a,{component:"form",onSubmit:s((function(e){t(e),j()})),sx:{display:"flex",justifyContent:"flex-end",flexWrap:"wrap"},children:[Object(O.jsx)(X.a,{name:"name",control:l,defaultValue:d?d.name:"",render:function(e){var t=e.field,n=t.onChange,a=t.value,c=e.fieldState.error;return Object(O.jsx)(re,{autoFocus:!0,variant:"outlined",margin:"dense",fullWidth:!0,name:"name",label:"Name",value:a,onInput:n,onChange:b,error:!!c,helperText:c?c.message||"The name can only consist of letters, apostrophes, dashes and spaces, it must not start or end with a space. For example, Adrian, Jacob Mercer, Charles de Buz de Castelmore d'Artagnan, etc.":null})},rules:{pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f ]*)*$/,required:"Enter name"}}),Object(O.jsx)(X.a,{name:"number",control:l,defaultValue:d?d.number:"",render:function(e){var t=e.field,n=t.onChange,a=t.value,c=e.fieldState.error;return Object(O.jsx)(re,{variant:"outlined",margin:"dense",fullWidth:!0,name:"number",label:"Number",value:a,onInput:n,onChange:b,error:!!c,helperText:c?c.message||"The phone number must be at least 5 digits long and can contain spaces, hyphens, parentheses and can start with +, must not start or end with a space.":null,type:"tel"})},rules:{pattern:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,required:"Enter number"}}),Object(O.jsx)(_.a,{type:"submit",variant:"outlined","aria-label":"save",disabled:a,sx:{"&:hover, &:focus":{color:f.a.palette.primary.contrastText,backgroundColor:f.a.palette.primary.main},marginTop:"5px","&.Mui-disabled":{color:f.a.palette.text.secondary,backgroundColor:f.a.palette.primary.main}},children:a?Object(O.jsx)(ee.a,{in:a,children:Object(O.jsx)(ne.a,{})}):"Save"})]})}var ie=n(216);function se(e){var t=e.currentContactId,n=e.isDuplicateContact,a=e.contacts;return!t&&Object(O.jsxs)(O.Fragment,{children:["all"===(null===n||void 0===n?void 0:n.duplicateValue)&&Object(O.jsx)(ie.a,{message:"".concat(a[n.duplicateIndex].name," with number ").concat(a[n.duplicateIndex].number," is already in contacts!")}),"name"===(null===n||void 0===n?void 0:n.duplicateValue)&&Object(O.jsx)(ie.a,{message:"".concat(a[n.duplicateIndex].name," is already in contacts!")}),"number"===(null===n||void 0===n?void 0:n.duplicateValue)&&Object(O.jsx)(ie.a,{message:"".concat(a[n.duplicateIndex].number," is already in contacts! (").concat(a[n.duplicateIndex].name," has this number)")})]})}var le={backgroundColor:f.a.palette.background.default};function ue(e){var t=e.isOpen,n=e.onClose,o=e.currentContactId,i=e.setCurrentContactId,l=Object(c.useState)(null),u=Object(a.a)(l,2),d=u[0],j=u[1],p=Object(c.useState)(!1),m=Object(a.a)(p,2),h=m[0],v=m[1],g=Object(r.d)(E),C=Object(r.c)(),y=function(){n(!1),j(null),i(null),v(!1)},w=!o;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(H.a,{open:t,onClose:y,fullWidth:!0,children:[Object(O.jsx)(b.a,{"aria-label":"close",onClick:y,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.primary.main}},children:Object(O.jsx)(U.a,{})}),Object(O.jsx)($.a,{id:"add-edit-contact-form-title",sx:Object(s.a)(Object(s.a)({},le),{},{color:f.a.palette.primary.main}),children:w?"Adding contact":"Editing contact"}),Object(O.jsxs)(K.a,{sx:Object(s.a)({},le),children:[Object(O.jsx)(oe,{onSubmit:function(e){var t=function(e,t,n){var a=e.findIndex((function(e){return e.name===t&&e.number===n})),c=e.findIndex((function(e){return e.name===t})),r=e.findIndex((function(e){return e.number===n}));return-1!==a?{duplicateValue:"all",duplicateIndex:a}:-1!==c?{duplicateValue:"name",duplicateIndex:c}:-1!==r?{duplicateValue:"number",duplicateIndex:r}:null}(g,e.name,e.number);if(j(t),!w)return C(Object(x.c)(Object(s.a)({id:o},e))),void y();t||(C(Object(x.a)(e)),v(!0))},currentContactId:o,isContactSaved:h,setIsContactSaved:v,isNewContact:w}),Object(O.jsx)(se,{currentContactId:o,isDuplicateContact:d,contacts:g})]})]})})}function de(){return Object(O.jsx)(o.a,{sx:{ml:"auto",mr:"auto",textAlign:"center"},children:Object(O.jsx)(d.a,{component:"p",variant:"h6",align:"center",children:"You have no contacts yet ..."})})}function be(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],l=Object(c.useState)(null),u=Object(a.a)(l,2),d=u[0],b=u[1],j=Object(r.d)(D),p=Object(r.d)((function(e){return e.contacts.items})),m=Object(r.c)();return Object(c.useEffect)((function(){m(Object(x.d)())}),[m]),Object(O.jsx)(o.a,{component:"section",sx:{flexGrow:1,paddingTop:"80px"},children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)("h1",{className:"visuallyHidden",children:"Contacts"}),(null===p||void 0===p?void 0:p.length)>0&&(null===j||void 0===j?void 0:j.length)>0?Object(O.jsx)(C,{contacts:j,openAddContactModal:s,setCurrentContactId:b}):Object(O.jsx)(de,{message:0===(null===p||void 0===p?void 0:p.length)&&0===(null===j||void 0===j?void 0:j.length)?"You have no contacts...":"No results were found for this request"}),Object(O.jsx)(Y,{openAddContactModal:s}),Object(O.jsx)(ue,{isOpen:n,onClose:s,currentContactId:d,setCurrentContactId:b})]})})}}}]);
//# sourceMappingURL=contacts-page.7e14fae1.chunk.js.map